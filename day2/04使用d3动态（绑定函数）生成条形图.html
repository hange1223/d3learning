<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../js/d3.min.js"></script>
</head>
<body>

</body>
    <script>
        var dataset=[];
        var nextdata = function(x){
            return 20 + x*x;
        };
        var pushdata = function(){
            dataset.push(nextdata);
            return dataset;
        };
        var _svg = d3.select("body")
                .append("svg")
                .attr("width","400")
                .attr("height","800");

        function drawRect(){
            _svg.selectAll("rect")
                    .data(pushdata)
                    .enter()
                    .append("rect")
                    .attr("x","20")
                    .attr("y",function(d,i){
                        return 20+20*i+30*i;
                    })
                    .attr("width",function(d,i){
                        return d(i);
                    })
                    .attr("height","20")
                    .style("fill","blue");
        }
        setInterval(function(){
            drawRect();
        },2*100)
    </script>
</html>